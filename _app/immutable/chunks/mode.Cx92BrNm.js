import{G as P,q as k,a0 as M,au as U,av as Y,aw as H}from"./runtime.Cr1zYP3D.js";import{k as J,l as T,m as W,n as X,o as Z}from"./disclose-version.C7rlH1tE.js";import{g as C,d as D,w as m}from"./index.CsUKJJFQ.js";function $(e,t){if(t){const n=document.body;e.autofocus=!0,P(()=>{document.activeElement===n&&e.focus()})}}let I=!1;function x(){I||(I=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function ge(e){if(k){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var s=e.value;b(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var o=e.checked;b(e,"checked",null),e.checked=o}}};e.__on_r=n,H(n),x()}}function b(e,t,n,s){var o=e.__attributes??(e.__attributes={});k&&(o[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||o[t]!==(o[t]=n)&&(t==="loading"&&(e[U]=n),n==null?e.removeAttribute(t):typeof n!="string"&&O(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function ve(e,t,n,s,o=!1,u=!1,a=!1){var r=t||{},l=e.tagName==="OPTION";for(var d in t)d in n||(n[d]=null);var _=O(e),h=e.__attributes??(e.__attributes={}),y=[];for(const i in n){let c=n[i];if(l&&i==="value"&&c==null){e.value=e.__value="",r[i]=c;continue}var S=r[i];if(c!==S){r[i]=c;var E=i[0]+i[1];if(E!=="$$")if(E==="on"){const w={},p="$$"+i;let f=i.slice(2);var L=Z(f);if(J(f)&&(f=f.slice(0,-7),w.capture=!0),!L&&S){if(c!=null)continue;e.removeEventListener(f,r[p],w),r[p]=null}if(c!=null)if(L)e[`__${f}`]=c,W([f]);else{let A=function(R){r[i].call(this,R)};t?r[p]=T(f,e,A,w):y.push([i,c,()=>r[p]=T(f,e,A,w)])}}else if(i==="style"&&c!=null)e.style.cssText=c+"";else if(i==="autofocus")$(e,!!c);else if(i==="__value"||i==="value"&&c!=null)e.value=e[i]=e.__value=c;else{var g=i;o||(g=X(g)),c==null&&!u?(h[i]=null,e.removeAttribute(i)):_.includes(g)&&(u||typeof c!="string")?e[g]=c:typeof c!="function"&&(k&&(g==="src"||g==="href"||g==="srcset")||b(e,g,c))}}}return t||P(()=>{if(e.isConnected)for(const[i,c,w]of y)r[i]===c&&w()}),r}var V=new Map;function O(e){var t=V.get(e.nodeName);if(t)return t;V.set(e.nodeName,t=[]);for(var n,s=M(e);s.constructor.name!=="Element";){n=Y(s);for(var o in n)n[o].set&&t.push(o);s=M(s)}return t}let q,N;function B(e){if(typeof document>"u")return;clearTimeout(q),clearTimeout(N);const t=document.createElement("style"),n=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);t.appendChild(n);const s=()=>document.head.appendChild(t),o=()=>document.head.removeChild(t);if(typeof window.getComputedStyle<"u"){s(),e(),window.getComputedStyle(t).opacity,o();return}if(typeof window.requestAnimationFrame<"u"){s(),e(),window.requestAnimationFrame(o);return}s(),q=window.setTimeout(()=>{e(),N=window.setTimeout(o,120)},120)}function z(e){return e.filter(t=>t.length>0)}const F={getItem:e=>null,setItem:(e,t)=>{}},v=typeof document<"u",ee=["dark","light","system"],te=m("mode-watcher-mode"),ne=m("mode-watcher-theme"),G=ae(),se=ue(),oe=m(void 0),Q=ce(),j=m(!0),re=m([]),ie=m([]),_e=le(),ye=de();function ae(){const e="system",t=v?localStorage:F,n=t.getItem(o());let s=K(n)?n:e;function o(){return C(te)}const{subscribe:u,set:a}=m(s,()=>{if(!v)return;const l=d=>{if(d.key!==o())return;const _=d.newValue;K(_)?a(s=_):a(s=e)};return addEventListener("storage",l),()=>removeEventListener("storage",l)});function r(l){a(s=l),t.setItem(o(),s)}return{subscribe:u,set:r}}function ce(){const e=v?localStorage:F,t=e.getItem(s());let n=t??"";function s(){return C(ne)}const{subscribe:o,set:u}=m(n,()=>{if(!v)return;const r=l=>{if(l.key!==s())return;const d=l.newValue;u(d===null?n="":n=d)};return addEventListener("storage",r),()=>removeEventListener("storage",r)});function a(r){u(n=r),e.setItem(s(),n)}return{subscribe:o,set:a}}function ue(){let t=!0;const{subscribe:n,set:s}=m(void 0,()=>{if(!v)return;const a=l=>{t&&s(l.matches?"light":"dark")},r=window.matchMedia("(prefers-color-scheme: light)");return r.addEventListener("change",a),()=>r.removeEventListener("change",a)});function o(){if(!v)return;const a=window.matchMedia("(prefers-color-scheme: light)");s(a.matches?"light":"dark")}function u(a){t=a}return{subscribe:n,query:o,tracking:u}}function le(){const{subscribe:e}=D([G,se,oe,j,re,ie],([t,n,s,o,u,a])=>{if(!v)return;const r=t==="system"?n:t,l=z(u),d=z(a);function _(){const h=document.documentElement,y=document.querySelector('meta[name="theme-color"]');r==="light"?(l.length&&h.classList.remove(...l),d.length&&h.classList.add(...d),h.style.colorScheme="light",y&&s&&y.setAttribute("content",s.light)):(d.length&&h.classList.remove(...d),l.length&&h.classList.add(...l),h.style.colorScheme="dark",y&&s&&y.setAttribute("content",s.dark))}return o?B(_):_(),r});return{subscribe:e}}function de(){const{subscribe:e}=D([Q,j],([t,n])=>{if(!v)return;function s(){document.documentElement.setAttribute("data-theme",t)}return n?B(s):s(),t});return{subscribe:e}}function K(e){return typeof e!="string"?!1:ee.includes(e)}function we(e){G.set(e)}function pe(e){Q.set(e)}function be(e){return e}function ke({defaultMode:e,themeColors:t,darkClassNames:n=["dark"],lightClassNames:s=[],defaultTheme:o=""}){const u=document.documentElement,a=localStorage.getItem("mode-watcher-mode")||e,r=localStorage.getItem("mode-watcher-theme")||o,l=a==="light"||a==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(l?(n.length&&u.classList.remove(...n),s.length&&u.classList.add(...s)):(s.length&&u.classList.remove(...s),n.length&&u.classList.add(...n)),u.style.colorScheme=l?"light":"dark",t){const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",a==="light"?t.light:t.dark)}r&&(u.setAttribute("data-theme",r),localStorage.setItem("mode-watcher-theme",r)),localStorage.setItem("mode-watcher-mode",a)}export{_e as a,ye as b,we as c,be as d,pe as e,b as f,ke as g,j as h,K as i,oe as j,re as k,ie as l,te as m,x as n,ve as o,ge as r,se as s,ne as t};
