import{q as S,h as G,F as z,ap as Q,aq as R,a2 as A,ar as U,as as Y,$ as H}from"./runtime.r6LAxiIN.js";import{k as J,l as M,m as W,n as X,o as Z}from"./disclose-version.D611EhWi.js";import{g as C,d as D,w as h}from"./index.CMYBc1v_.js";function be(e,t,n,s){S&&G(),t===void 0?s!==null&&s(e):t(e,n)}function x(e,t){if(t){const n=document.body;e.autofocus=!0,z(()=>{document.activeElement===n&&e.focus()})}}let T=!1;function ee(){T||(T=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const n of e.target.elements)(t=n.__on_r)==null||t.call(n)})},{capture:!0}))}function pe(e){if(S){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var s=e.value;p(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var r=e.checked;p(e,"checked",null),e.checked=r}}};e.__on_r=n,Q(n),ee()}}function p(e,t,n,s){n=n==null?null:n+"";var r=e.__attributes??(e.__attributes={});S&&(r[t]=e.getAttribute(t),t==="src"||t==="href"||t==="srcset")||r[t]!==(r[t]=n)&&(t==="loading"&&(e[R]=n),n===null?e.removeAttribute(t):e.setAttribute(t,n))}function te(e,t,n){if(t in e){var s=e[t],r=typeof s=="boolean"&&n===""?!0:n;(typeof s!="object"||s!==r)&&(e[t]=r)}else p(e,t,n)}function ne(e,t,n,s,r=!1,a){var i=t||{},u=e.tagName==="OPTION";for(var c in t)c in n||(n[c]=null);var l=I.get(e.nodeName);l||I.set(e.nodeName,l=re(e));var v=e.__attributes??(e.__attributes={}),d=[];for(const o in n){let f=n[o];if(u&&o==="value"&&f==null){e.value=e.__value="",i[o]=f;continue}var y=i[o];if(f!==y){i[o]=f;var E=o[0]+o[1];if(E!=="$$")if(E==="on"){const w={},b="$$"+o;let m=o.slice(2);var k=Z(m);if(J(m)&&(m=m.slice(0,-7),w.capture=!0),!k&&y){if(f!=null)continue;e.removeEventListener(m,i[b],w),i[b]=null}if(f!=null)if(k)e[`__${m}`]=f,W([m]);else{let L=function(j){i[o].call(this,j)};t?i[b]=M(m,e,L,w):d.push([o,f,()=>i[b]=M(m,e,L,w)])}}else if(f==null)v[o]=null,e.removeAttribute(o);else if(o==="style")e.style.cssText=f+"";else if(o==="autofocus")x(e,!!f);else if(o==="__value"||o==="value")e.value=e[o]=e.__value=f;else{var g=o;r||(g=X(g)),l.includes(g)?S&&(g==="src"||g==="href"||g==="srcset")||(e[g]=f):typeof f!="function"&&p(e,g,f)}}}return t||z(()=>{if(e.isConnected)for(const[o,f,w]of d)i[o]===f&&w()}),i}function Se(e,t,n,s){if(e.tagName.includes("-")){for(var r in t)r in n||(n[r]=null);for(r in n)te(e,r,n[r]);return n}return ne(e,t,n,s,e.namespaceURI!==Y)}var se=["width","height","draggable"],I=new Map;function re(e){for(var t=[],n,s=A(e);s.constructor.name!=="Element";){n=U(s);for(var r in n)n[r].set&&!se.includes(r)&&t.push(r);s=A(s)}return t}function Ee(e,t){var a;var n=(a=e.$$events)==null?void 0:a[t.type],s=H(n)?n.slice():n==null?[]:[n];for(var r of s)r.call(this,t)}function ke(e){var n;var t=(n=e.$$slots)==null?void 0:n.default;return t===!0?e.children:t}let V,q;function K(e){if(typeof document>"u")return;clearTimeout(V),clearTimeout(q);const t=document.createElement("style"),n=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);t.appendChild(n);const s=()=>document.head.appendChild(t),r=()=>document.head.removeChild(t);if(typeof window.getComputedStyle<"u"){s(),e(),window.getComputedStyle(t).opacity,r();return}if(typeof window.requestAnimationFrame<"u"){s(),e(),window.requestAnimationFrame(r);return}s(),V=window.setTimeout(()=>{e(),q=window.setTimeout(r,120)},120)}function N(e){return e.filter(t=>t.length>0)}const O={getItem:e=>null,setItem:(e,t)=>{}},_=typeof document<"u",ie=["dark","light","system"],oe=h("mode-watcher-mode"),ae=h("mode-watcher-theme"),B=de(),ce=he(),ue=h(void 0),F=me(),$=h(!0),le=h([]),fe=h([]),Le=ge(),Ae=_e();function de(){const e="system",t=_?localStorage:O,n=t.getItem(r());let s=P(n)?n:e;function r(){return C(oe)}const{subscribe:a,set:i}=h(s,()=>{if(!_)return;const c=l=>{if(l.key!==r())return;const v=l.newValue;P(v)?i(s=v):i(s=e)};return addEventListener("storage",c),()=>removeEventListener("storage",c)});function u(c){i(s=c),t.setItem(r(),s)}return{subscribe:a,set:u}}function me(){const e=_?localStorage:O,t=e.getItem(s());let n=t??"";function s(){return C(ae)}const{subscribe:r,set:a}=h(n,()=>{if(!_)return;const u=c=>{if(c.key!==s())return;const l=c.newValue;a(l===null?n="":n=l)};return addEventListener("storage",u),()=>removeEventListener("storage",u)});function i(u){a(n=u),e.setItem(s(),n)}return{subscribe:r,set:i}}function he(){let t=!0;const{subscribe:n,set:s}=h(void 0,()=>{if(!_)return;const i=c=>{t&&s(c.matches?"light":"dark")},u=window.matchMedia("(prefers-color-scheme: light)");return u.addEventListener("change",i),()=>u.removeEventListener("change",i)});function r(){if(!_)return;const i=window.matchMedia("(prefers-color-scheme: light)");s(i.matches?"light":"dark")}function a(i){t=i}return{subscribe:n,query:r,tracking:a}}function ge(){const{subscribe:e}=D([B,ce,ue,$,le,fe],([t,n,s,r,a,i])=>{if(!_)return;const u=t==="system"?n:t,c=N(a),l=N(i);function v(){const d=document.documentElement,y=document.querySelector('meta[name="theme-color"]');u==="light"?(c.length&&d.classList.remove(...c),l.length&&d.classList.add(...l),d.style.colorScheme="light",y&&s&&y.setAttribute("content",s.light)):(l.length&&d.classList.remove(...l),c.length&&d.classList.add(...c),d.style.colorScheme="dark",y&&s&&y.setAttribute("content",s.dark))}return r?K(v):v(),u});return{subscribe:e}}function _e(){const{subscribe:e}=D([F,$],([t,n])=>{if(!_)return;function s(){document.documentElement.setAttribute("data-theme",t)}return n?K(s):s(),t});return{subscribe:e}}function P(e){return typeof e!="string"?!1:ie.includes(e)}function Me(e){B.set(e)}function Te(e){F.set(e)}function Ie(e){return e}function Ve({defaultMode:e,themeColors:t,darkClassNames:n=["dark"],lightClassNames:s=[],defaultTheme:r=""}){const a=document.documentElement,i=localStorage.getItem("mode-watcher-mode")||e,u=localStorage.getItem("mode-watcher-theme")||r,c=i==="light"||i==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(c?(n.length&&a.classList.remove(...n),s.length&&a.classList.add(...s)):(s.length&&a.classList.remove(...s),n.length&&a.classList.add(...n)),a.style.colorScheme=c?"light":"dark",t){const l=document.querySelector('meta[name="theme-color"]');l&&l.setAttribute("content",i==="light"?t.light:t.dark)}u&&(a.setAttribute("data-theme",u),localStorage.setItem("mode-watcher-theme",u)),localStorage.setItem("mode-watcher-mode",i)}export{Le as a,Ae as b,Me as c,Ie as d,Te as e,p as f,Ve as g,$ as h,P as i,ue as j,le as k,fe as l,oe as m,be as n,ke as o,ee as p,ne as q,Se as r,ce as s,ae as t,Ee as u,pe as v};
