import{F as z,q as S,_ as A,ap as R,aq as U,ar as Y,as as H}from"./runtime.Dr3mTqfF.js";import{k as J,l as M,m as W,n as X,o as Z}from"./disclose-version.BpEQllCY.js";import{g as C,d as K,w as h}from"./index.BLABWzb1.js";function $(e,t){if(t){const s=document.body;e.autofocus=!0,z(()=>{document.activeElement===s&&e.focus()})}}let T=!1;function x(){T||(T=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const s of e.target.elements)(t=s.__on_r)==null||t.call(s)})},{capture:!0}))}function ve(e){if(S){var t=!1,s=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;b(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;b(e,"checked",null),e.checked=r}}};e.__on_r=s,R(s),x()}}function b(e,t,s,n){var r=e.__attributes??(e.__attributes={});S&&(r[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||r[t]!==(r[t]=s)&&(t==="loading"&&(e[U]=s),s==null?e.removeAttribute(t):typeof s!="string"&&D(e).includes(t)?e[t]=s:e.setAttribute(t,s))}function ee(e,t,s){if(t in e){try{var n=e[t]}catch{b(e,t,s);return}var r=typeof n=="boolean"&&s===""?!0:s;(typeof n!="object"||n!==r)&&(e[t]=r)}else b(e,t,s)}function te(e,t,s,n,r=!1,f){var o=t||{},c=e.tagName==="OPTION";for(var a in t)a in s||(s[a]=null);var l=I.get(e.nodeName);l||I.set(e.nodeName,l=D(e));var v=e.__attributes??(e.__attributes={}),d=[];for(const i in s){let u=s[i];if(c&&i==="value"&&u==null){e.value=e.__value="",o[i]=u;continue}var y=o[i];if(u!==y){o[i]=u;var E=i[0]+i[1];if(E!=="$$")if(E==="on"){const w={},p="$$"+i;let m=i.slice(2);var k=Z(m);if(J(m)&&(m=m.slice(0,-7),w.capture=!0),!k&&y){if(u!=null)continue;e.removeEventListener(m,o[p],w),o[p]=null}if(u!=null)if(k)e[`__${m}`]=u,W([m]);else{let L=function(Q){o[i].call(this,Q)};t?o[p]=M(m,e,L,w):d.push([i,u,()=>o[p]=M(m,e,L,w)])}}else if(u==null)v[i]=null,e.removeAttribute(i);else if(i==="style")e.style.cssText=u+"";else if(i==="autofocus")$(e,!!u);else if(i==="__value"||i==="value")e.value=e[i]=e.__value=u;else{var g=i;r||(g=X(g)),l.includes(g)&&typeof u!="string"?e[g]=u:typeof u!="function"&&(S&&(g==="src"||g==="href"||g==="srcset")||b(e,g,u))}}}return t||z(()=>{if(e.isConnected)for(const[i,u,w]of d)o[i]===u&&w()}),o}function ye(e,t,s,n){if(e.tagName.includes("-")){for(var r in t)r in s||(s[r]=null);for(r in s)ee(e,r,s[r]);return s}return te(e,t,s,n,e.namespaceURI!==H)}var I=new Map;function D(e){for(var t=[],s,n=A(e);n.constructor.name!=="Element";){s=Y(n);for(var r in s)s[r].set&&t.push(r);n=A(n)}return t}let V,q;function O(e){if(typeof document>"u")return;clearTimeout(V),clearTimeout(q);const t=document.createElement("style"),s=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);t.appendChild(s);const n=()=>document.head.appendChild(t),r=()=>document.head.removeChild(t);if(typeof window.getComputedStyle<"u"){n(),e(),window.getComputedStyle(t).opacity,r();return}if(typeof window.requestAnimationFrame<"u"){n(),e(),window.requestAnimationFrame(r);return}n(),V=window.setTimeout(()=>{e(),q=window.setTimeout(r,120)},120)}function N(e){return e.filter(t=>t.length>0)}const B={getItem:e=>null,setItem:(e,t)=>{}},_=typeof document<"u",se=["dark","light","system"],ne=h("mode-watcher-mode"),re=h("mode-watcher-theme"),F=ue(),oe=le(),ie=h(void 0),j=fe(),G=h(!0),ae=h([]),ce=h([]),we=de(),be=me();function ue(){const e="system",t=_?localStorage:B,s=t.getItem(r());let n=P(s)?s:e;function r(){return C(ne)}const{subscribe:f,set:o}=h(n,()=>{if(!_)return;const a=l=>{if(l.key!==r())return;const v=l.newValue;P(v)?o(n=v):o(n=e)};return addEventListener("storage",a),()=>removeEventListener("storage",a)});function c(a){o(n=a),t.setItem(r(),n)}return{subscribe:f,set:c}}function fe(){const e=_?localStorage:B,t=e.getItem(n());let s=t??"";function n(){return C(re)}const{subscribe:r,set:f}=h(s,()=>{if(!_)return;const c=a=>{if(a.key!==n())return;const l=a.newValue;f(l===null?s="":s=l)};return addEventListener("storage",c),()=>removeEventListener("storage",c)});function o(c){f(s=c),e.setItem(n(),s)}return{subscribe:r,set:o}}function le(){let t=!0;const{subscribe:s,set:n}=h(void 0,()=>{if(!_)return;const o=a=>{t&&n(a.matches?"light":"dark")},c=window.matchMedia("(prefers-color-scheme: light)");return c.addEventListener("change",o),()=>c.removeEventListener("change",o)});function r(){if(!_)return;const o=window.matchMedia("(prefers-color-scheme: light)");n(o.matches?"light":"dark")}function f(o){t=o}return{subscribe:s,query:r,tracking:f}}function de(){const{subscribe:e}=K([F,oe,ie,G,ae,ce],([t,s,n,r,f,o])=>{if(!_)return;const c=t==="system"?s:t,a=N(f),l=N(o);function v(){const d=document.documentElement,y=document.querySelector('meta[name="theme-color"]');c==="light"?(a.length&&d.classList.remove(...a),l.length&&d.classList.add(...l),d.style.colorScheme="light",y&&n&&y.setAttribute("content",n.light)):(l.length&&d.classList.remove(...l),a.length&&d.classList.add(...a),d.style.colorScheme="dark",y&&n&&y.setAttribute("content",n.dark))}return r?O(v):v(),c});return{subscribe:e}}function me(){const{subscribe:e}=K([j,G],([t,s])=>{if(!_)return;function n(){document.documentElement.setAttribute("data-theme",t)}return s?O(n):n(),t});return{subscribe:e}}function P(e){return typeof e!="string"?!1:se.includes(e)}function pe(e){F.set(e)}function Se(e){j.set(e)}function Ee(e){return e}function ke({defaultMode:e,themeColors:t,darkClassNames:s=["dark"],lightClassNames:n=[],defaultTheme:r=""}){const f=document.documentElement,o=localStorage.getItem("mode-watcher-mode")||e,c=localStorage.getItem("mode-watcher-theme")||r,a=o==="light"||o==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(a?(s.length&&f.classList.remove(...s),n.length&&f.classList.add(...n)):(n.length&&f.classList.remove(...n),s.length&&f.classList.add(...s)),f.style.colorScheme=a?"light":"dark",t){const l=document.querySelector('meta[name="theme-color"]');l&&l.setAttribute("content",o==="light"?t.light:t.dark)}c&&(f.setAttribute("data-theme",c),localStorage.setItem("mode-watcher-theme",c)),localStorage.setItem("mode-watcher-mode",o)}export{we as a,be as b,pe as c,Ee as d,Se as e,b as f,ke as g,G as h,P as i,ie as j,ae as k,ce as l,ne as m,x as n,te as o,ye as p,ve as r,oe as s,re as t};
