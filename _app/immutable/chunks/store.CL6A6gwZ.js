import{G as v,I as a,u as _,E as g,J as l,K as c,L as m,M as h,N as k,O as x,P as y,Q as b,R as w}from"./runtime.CV-2L5DI.js";import{s as E}from"./index.CJ6Hh9FG.js";function J(e=!1){const s=_,n=s.l.u;if(!n)return;let r=()=>h(s.s);if(e){let u=0,t={};const d=k(()=>{let i=!1;const f=s.s;for(const o in f)f[o]!==t[o]&&(t[o]=f[o],i=!0);return i&&u++,u});r=()=>c(d)}n.b.length&&v(()=>{p(s,r),l(n.b)}),a(()=>{const u=g(()=>n.m.map(m));return()=>{for(const t of u)typeof t=="function"&&t()}}),n.a.length&&a(()=>{p(s,r),l(n.a)})}function p(e,s){if(e.l.s)for(const n of e.l.s)c(n);s()}function K(e,s,n){const r=n[s]??(n[s]={store:null,source:y(void 0),unsubscribe:b});if(r.store!==e)if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=b;else{var u=!0;r.unsubscribe=E(e,t=>{u?r.source.v=t:w(r.source,t)}),u=!1}return c(r.source)}function L(){const e={};return x(()=>{for(var s in e)e[s].unsubscribe()}),e}export{K as a,J as i,L as s};
