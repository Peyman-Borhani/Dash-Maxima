import{I as v,J as a,u as _,F as g,K as l,L as c,M as m,N as h,O as k,P as x,Q as y,R as b,T as w}from"./runtime.Cr1zYP3D.js";import{s as F}from"./index.CsUKJJFQ.js";function K(e=!1){const s=_,n=s.l.u;if(!n)return;let r=()=>h(s.s);if(e){let u=0,t={};const d=k(()=>{let i=!1;const f=s.s;for(const o in f)f[o]!==t[o]&&(t[o]=f[o],i=!0);return i&&u++,u});r=()=>c(d)}n.b.length&&v(()=>{p(s,r),l(n.b)}),a(()=>{const u=g(()=>n.m.map(m));return()=>{for(const t of u)typeof t=="function"&&t()}}),n.a.length&&a(()=>{p(s,r),l(n.a)})}function p(e,s){if(e.l.s)for(const n of e.l.s)c(n);s()}function L(e,s,n){const r=n[s]??(n[s]={store:null,source:y(void 0),unsubscribe:b});if(r.store!==e)if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=b;else{var u=!0;r.unsubscribe=F(e,t=>{u?r.source.v=t:w(r.source,t)}),u=!1}return c(r.source)}function M(){const e={};return x(()=>{for(var s in e)e[s].unsubscribe()}),e}export{L as a,K as i,M as s};
